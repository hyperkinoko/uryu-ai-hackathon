# ai-hackathon プロジェクト固有ルール

作成日: 2025-08-07
更新日: 2025-08-07（React版に更新）

## **仕様定義**

### **1. コンセプト**

- **プロダクト名:** きのこ先生と哲学対話
- **キャッチコピー:** IT研修講師のきのこ先生と、あなたの思考をデバッグするAI対話ツール。
- **ターゲット:** 自分の考えを整理したい、新しい視点や気づきを得たいと考えている非エンジニアのビジネスパーソン。
- **コア体験:** ユーザーの悩みを、まずは人間味あふれる哲学的な対話で深掘りし、その後にIT研修講師としての視点からユニークなフレームワークやヒントを提供することで、内省と行動変容を促す。

---

### **2. ユーザーインターフェース（UI）/ ユーザー体験（UX）仕様**

**Figmaリファレンス準拠の高品質なUI設計：**

- **初期画面（WelcomeScreen）:**
    - 画面中央にきのこ先生のキャラクター画像（264×264px）
    - タイトル「きのこ先生と哲学対話」（text-4xl font-bold）
    - キャッチコピー「あなたの思考をデバッグするAI対話ツール」
    - 大きめのテキストエリア（min-h-[120px]）で悩み入力
    - 「対話を始める」ボタン（紫色テーマ）
    - 背景：青から紫へのグラデーション（bg-gradient-to-br from-blue-50 to-purple-50）

- **対話画面（ChatScreen）:**
    - ヘッダー：きのこ先生の名前と状態表示
    - メッセージエリア：チャット形式（max-w-4xl）
    - 入力エリア：テキスト入力 + 送信ボタン（Sendアイコン付き）
    - 通常モード：青紫グラデーション背景
    - 種明かし後：ダークテーマに切り替え（slate-900 to blue-900）

- **「種明かし」の演出:**
    - 4回以上の対話または特定キーワード（「解決策」「どうすればいい」等）で発動
    - 背景が瞬時にダークテーマに変化
    - デジタルエフェクト：01バイナリコードのアニメーション背景
    - ヘッダーテキストが「きのこ先生（IT研修講師）」に変更
    - 「対話を分析・可視化する」ボタン表示

- **結果画面（ResultScreen）:**
    - 対話の構造化されたレポート表示
    - 分析結果の視覚化
    - 再開ボタン

- **技術スタック:**
    - **フロントエンド:** React 18 + TypeScript
    - **バックエンド:** Express.js または Next.js API Routes
    - **AIエンジン:** Claude API (Anthropic SDK)
    - **スタイリング:** TailwindCSS
    - **UIコンポーネント:** shadcn/ui
    - **アニメーション:** Framer Motion
    - **アイコン:** Lucide React
    - **状態管理:** React useState/useReducer
    - **環境変数管理:** .env.local (VITE_CLAUDE_API_KEY)

---

### **3. AI（Claude）へのプロンプト仕様**

このアプリの核となる、AIへの指示内容です。

- **初期プロンプト（「人間」としての対話）：**
    - `あなたは「哲学が好きなただの人間」というペルソナで、ユーザーの悩みに耳を傾けます。`
    - `相手の言葉を否定せず、共感的な返答を心がけてください。`
    - `ソクラテス式問答や哲学者の引用を交えながら、ユーザーの思考を深める問いを投げかけてください。`
    - `ITやプログラミングに関する専門用語は、この段階では一切使わないでください。`
    - `返答は簡潔に（2-3文程度）、自然な会話を心がけてください。`
- **中期プロンプト（「講師」としての種明かしとTips提供）：**
    - `あなたはIT研修講師であることを明かし、これまでの対話内容を振り返ります。`
    - `ユーザーの悩みを、ITや学習におけるメタファー（例：デバッグ、テスト、リファクタリング、ポートフォリオ）を用いて再解釈し、行動可能なTipsを簡潔に提供してください。`
    - `プログラミング初心者にも理解できる平易な言葉で説明してください。`
- **最終プロンプト（「可視化」のための出力）：**
    - `これまでの対話全体を分析し、以下の構造を持つJSON形式で出力してください。`
    - `{ "summary": "...", "problem_definition": "...", "it_tips": ["...", "..."], "next_step": "..." }`
    - このJSONデータをSvelteKit側でパースし、美しく可視化します。

---

### **4. UIデザイン・トンマナ仕様**

- **カラーパレット:**
    - **プライマリ:** 
        - 通常モード: #6B46C1（パープル系 - 哲学的・思慮深い印象）
        - 講師モード: #059669（グリーン系 - 成長・学習の印象）
    - **セカンダリ:**
        - 背景: #F9FAFB（ライトグレー）
        - カード背景: #FFFFFF
        - テキスト: #111827（ダークグレー）
        - サブテキスト: #6B7280
    - **アクセント:**
        - ユーザーメッセージ: #EDE9FE（薄紫）
        - きのこ先生メッセージ: #FFFFFF（白・影付き）
        - 種明かし時の背景: linear-gradient(135deg, #667eea 0%, #764ba2 100%)

- **タイポグラフィ:**
    - **フォントファミリー:** 
        - 見出し: 'Noto Sans JP', sans-serif（ウェイト: 700）
        - 本文: 'Noto Sans JP', sans-serif（ウェイト: 400）
        - コード/Tips: 'JetBrains Mono', monospace
    - **フォントサイズ:**
        - H1: 2.5rem (40px)
        - H2: 1.875rem (30px)
        - 本文: 1rem (16px)
        - 小テキスト: 0.875rem (14px)

- **スペーシング・レイアウト:**
    - **基本単位:** 8pxグリッドシステム
    - **余白:**
        - コンテナパディング: 24px
        - メッセージ間隔: 16px
        - セクション間隔: 32px
    - **最大幅:** 768px（中央寄せ）
    - **ブレークポイント:**
        - モバイル: < 640px
        - タブレット: 640px - 1024px
        - デスクトップ: > 1024px

- **コンポーネントスタイル:**
    - **ボタン:**
        - 角丸: 12px
        - パディング: 12px 24px
        - ホバー時: 0.9倍の不透明度 + 軽いシャドウ
        - トランジション: all 0.2s ease
    - **カード/メッセージバブル:**
        - 角丸: 16px
        - シャドウ: 0 1px 3px rgba(0,0,0,0.1)
        - ボーダー: 1px solid rgba(0,0,0,0.05)
    - **入力フィールド:**
        - 角丸: 8px
        - 高さ: 48px
        - フォーカス時: プライマリカラーのボーダー

- **アニメーション・インタラクション:**
    - **基本原則:** 
        - イージング: cubic-bezier(0.4, 0, 0.2, 1)
        - デュレーション: 短い動作 200ms / 通常 300ms / 長い動作 500ms
    - **メッセージ表示:**
        - フェードイン + 下から上へのスライド
        - タイピングインジケーター（3つのドット）
    - **種明かし演出:**
        - 背景: 2秒かけてグラデーション変化
        - アイコン: 回転しながらフェード切り替え
        - テキスト: グリッチエフェクト風の演出
    - **ホバーエフェクト:**
        - ボタン: スケール1.05倍
        - カード: 軽い浮き上がり（translateY: -2px）

- **アイコン・イラスト:**
    - **きのこ先生アバター:**
        - サイズ: 48x48px（通常）/ 120x120px（初期画面）
        - スタイル: フラットデザイン、親しみやすい表情
        - 通常時: 穏やかな表情、紫系の色調
        - 講師モード: メガネ着用、緑系の色調
    - **UIアイコン:**
        - Heroicons または Tabler Icons使用
        - サイズ: 20x20px（通常）/ 24x24px（ボタン内）
        - ストローク幅: 1.5px

- **トーン&マナー:**
    - **全体的な印象:**
        - 「親しみやすさ」と「知的さ」のバランス
        - 過度な装飾を避けたミニマルデザイン
        - 余白を大切にした読みやすさ重視
    - **フェーズ別の演出:**
        - 初期: 落ち着いた、瞑想的な雰囲気
        - 対話中: 温かみのある、supportiveな雰囲気
        - 種明かし後: 活気ある、学習意欲を刺激する雰囲気
        - レポート: プロフェッショナルで信頼感のある仕上がり

---

### **5. プロジェクト構成（React版）**

```
kinoko-philosophy/
├── public/
│   └── images/
│       ├── kinoko.png           # きのこ先生画像
│       └── edita.png            # エディ太画像
├── src/
│   ├── components/
│   │   ├── WelcomeScreen.tsx    # 初期画面
│   │   ├── ChatScreen.tsx       # 対話画面
│   │   ├── ChatMessage.tsx      # メッセージコンポーネント
│   │   ├── ResultScreen.tsx     # 結果画面
│   │   └── ui/                  # shadcn/ui コンポーネント
│   │       ├── button.tsx
│   │       ├── input.tsx
│   │       ├── textarea.tsx
│   │       └── ...
│   ├── lib/
│   │   ├── api.ts              # Claude API呼び出し
│   │   ├── prompts.ts          # プロンプト管理
│   │   └── utils.ts            # ユーティリティ関数
│   ├── types/
│   │   └── index.ts            # 型定義
│   ├── App.tsx                 # メインアプリケーション
│   ├── main.tsx               # エントリーポイント
│   └── index.css              # グローバルスタイル
├── .env.local                  # 環境変数
├── package.json
├── vite.config.ts
├── tailwind.config.js
└── tsconfig.json
```

---

### **5. 実装の優先順位（React版）**

1. **Phase 1 - プロジェクト基盤**
   - Vite + React + TypeScript プロジェクトセットアップ
   - TailwindCSS + shadcn/ui セットアップ
   - 基本的なコンポーネント構造作成

2. **Phase 2 - 基本UI実装**
   - WelcomeScreen実装（Figma準拠）
   - ChatScreen基本実装
   - 状態管理（useState/useReducer）
   - 画面遷移ロジック

3. **Phase 3 - 高度な機能**
   - Claude API連携
   - 種明かし演出とアニメーション
   - ResultScreen実装
   - エラーハンドリング

---

### **6. 開発時の注意事項（React版）**

- **型安全性**: TypeScriptの型定義を活用し、実行時エラーを予防
- **コンポーネント設計**: 再利用可能で保守しやすいコンポーネント作成
- **セキュリティ**: Claude API KEYは環境変数で管理、フロントエンドに露出しない
- **パフォーマンス**: React.memoやuseMemoを適切に使用
- **アクセシビリティ**: shadcn/uiの標準的なa11y対応を活用
- **レスポンシブ**: TailwindCSSのブレークポイントでモバイル対応
